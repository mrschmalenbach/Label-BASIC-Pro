REM good_all_features_state_machine.lbpREM Mix: enums, IF/ELSE, WHILE/WEND, constants, optionsREM ##OPTION STRICT_ERR ONREM ##OPTION DEFINE ONREM ##OPTION REMPASS ONREM -----------------------------------------REM ENUM STATESREM -----------------------------------------ENUM STATESSTATE_INITSTATE_RUNSTATE_COOLDOWNSTATE_DONEEND ENUMCONSTANT MAX_STEPS% = 12CURRENT.STATE% = STATE_INITSTEP% = 0PRINT "STATE MACHINE DEMO START..."WHILE CURRENT.STATE%<>STATE_DONE  STEP% = STEP% + 1  PRINT  PRINT "STEP";STEP%;" STATE=";CURRENT.STATE%  IF CURRENT.STATE%=STATE_INIT THEN    PRINT "  ENTERING RUN STATE"    CURRENT.STATE% = STATE_RUN  ELSE    IF CURRENT.STATE%=STATE_RUN THEN      PRINT "  RUNNING WORKLOAD..."      IF STEP%>5 THEN        PRINT "  MOVING TO COOLDOWN"        CURRENT.STATE% = STATE_COOLDOWN      END IF    ELSE      IF CURRENT.STATE%=STATE_COOLDOWN THEN        PRINT "  COOLING DOWN..."        IF STEP%>9 THEN          PRINT "  COOLDOWN COMPLETE - DONE"          CURRENT.STATE% = STATE_DONE        END IF      ELSE        PRINT "  UNKNOWN STATE - FAILSAFE TO DONE"        CURRENT.STATE% = STATE_DONE      END IF    END IF  END IF  IF STEP%>=MAX_STEPS% THEN    PRINT "  SAFETY EXIT: TOO MANY STEPS"    CURRENT.STATE% = STATE_DONE  END IFWENDPRINTPRINT "STATE MACHINE DEMO COMPLETE."PRINT "FINAL STEP=";STEP%